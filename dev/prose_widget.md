Lets discuss the Prose widget a little first.  So you recommend creating one pros widget per content section.  I agree completely with this approach.  It also means you could have prose content that is easily reused across pages.  How would we handle images and links in this strategy?  In the marketing widgets we have explicit fields that hold links to images or downloadable assets.  Also would it be better to have all prose content written into the yaml file or have the possibility of loading markdown from a markdown file as well?

---------------------------------------------

This is a crucial decision point. The way you handle **Prose** determines whether your system is "Machine-only" (pure YAML strings) or "Human-compatible" (Markdown files).

Here is the recommended strategy for the `Prose` widget to balance AI automation with human Developer Experience (DX).

### 1. Images and Links: The "Separation of Concerns" Strategy

In Marketing widgets, explicit fields (`image: { src: ... }`) are necessary because the layout dictates exactly where that image goes (e.g., "Top Right, rounded corners, shadow").

In Documentation, flow is king. However, we should differentiate between **"Inline Assets"** and **"Structural Assets."**

#### A. Inline Assets (Use Markdown)

For links inside a sentence or small icons/diagrams that must flow with the text, use standard Markdown syntax.

* **Links:** `[Contact Support](/support)`
* **Images:** `![Small Diagram](/images/diagram.svg)`
* **Why:** AI models are natively fluent in Markdown. Breaking a sentence into a structured object just to insert a link is over-engineering.

#### B. Structural Assets (Use Widgets)

For major screenshots, diagrams, or downloads that need captions, lightboxes, or specific alignment, **do not put them inside the Prose widget.**
Create a dedicated `Figure` or `Media` widget.

**Why this is better:**

1. **Layout Control:** You can center the image, add a background color, or make it "Full Bleed" via the `DocsLayout`, which you can't do easily inside a Markdown blob.
2. **Data Querying:** If you want to find "All pages with a screenshot of the Dashboard," you can query your YAML for `type: Figure`, which is impossible if the image is buried in a Markdown string.

**Example of the Flow:**

```yaml
- type: Prose
  content: |
    To start the server, run the command below. You will see the initialization sequence.

- type: Figure  # <--- Structural Asset separated from text
  src: /images/server-init.png
  alt: Terminal showing successful boot
  caption: "Figure 1: Successful server boot sequence"

- type: Prose
  content: |
    Once initialized, open your browser to localhost:3000.

```

### 2. Content Source: The "Hybrid Source" Pattern

You asked if we should support loading Markdown from files. **Yes, absolutely.**

While the "Pure YAML" approach is great for AI, writing 500 lines of tutorial text inside a YAML string is painful for humans. The `Prose` widget should support **Dual Sourcing**.

#### The Schema Strategy

The `Prose` widget accepts *either* `content` (inline) OR `file` (path).

```yaml
# Option A: AI-Generated (Inline)
- type: Prose
  title: "Introduction"
  content: |
    This is generated by the AI. It is short and context-heavy.

# Option B: Human-Written (External)
- type: Prose
  title: "Advanced Configuration"
  file: "snippets/advanced-config.md" # Relative to content/snippets/

```

#### Why this wins:

1. **The "Data Dump" still works:** Your aggregator script (`exporter.ts`) needs a tiny update. If it sees a `file` prop, it reads that file from disk and injects it into the context window. To the LLM, it looks identical to inline text.
2. **Human Sanity:** You can write complex tutorials in VS Code with full Markdown linting and preview.
3. **Zero Structure Loss:** The *Page* is still YAML. The *Navigation* is still YAML. You haven't lost the "Data" nature of the site; you've just delegated the *value* of one field to an external file.

### 3. Reusability: The "Shared Snippet" System

Since you agree on "One Prose Widget per Section," reusability becomes native to Astrical.

You can create a directory `content/shared/docs/`.

**Example: A Standard Warning**
File: `content/shared/docs/warnings/production_db.yaml`

```yaml
type: Prose
content: |
  > **WARNING:** Do not run this command in production without a backup.

```

**Usage in Page:**

```yaml
sections:
  - layout: DocsLayout
    components:
      main:
        - type: Prose
          content: "First, prepare the database."
        
        # Inject the shared widget
        - component: docs/warnings/production_db

```

### Summary of the `Prose` Widget Strategy

1. **Granularity:** One widget per logical block.
2. **Syntax:** Standard Markdown for text/links.
3. **Media:** Use separate `Figure` widgets for major images; Markdown for inline only.
4. **Source:** Support `content` (String) AND `file` (Path) props.
5. **Reuse:** Use Astrical's native `content/shared/` system to reuse Prose widgets.

This strategy keeps the architecture strict (YAML-first) while giving you the escape hatch (Markdown files) needed for human collaboration.
